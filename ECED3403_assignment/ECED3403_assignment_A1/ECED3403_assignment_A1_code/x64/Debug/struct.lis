X-Makina Assembler - Version XM-23P Single Pass+ Assembler - Release 24.04.17
Input file name: struct.asm
Time of assembly: Sun 7 Jul 2024 18:30:09 
  1	    	     	;
  2	    	     	; Structure example
  3	    	     	; ECED 3403
  4	    	     	; 25 Jun 2024
  5	    	     	;
  6	    	     	; struct stex
  7	    	     	; {
  8	    	     	;	unsigned short V0;
  9	    	     	;	char V1;
 10	    	     	;	short V2;
 11	    	     	; };
 12	    	     	;
 13	    	     	; struct stex S1, S2;
 14	    	     	;
 15	    	     	; Define offsets
 16	    	     	;
 17	    	     	V0	equ	$0
 18	    	     	V1	equ	$2
 19	    	     	V2	equ	$4
 20	    	     	;
 21	    	     	; Data - reserve space for structures
 22	    	     	;
 23	    	     		DATA
 24	    	     		org	#100
 25	0100	0000	S1	bss	$6	; 6 bytes
 26	0106	0000		bss	$2	; Fill
 27	0108	0000	S2	bss	$6	; 6 bytes
 28	    	     	;
 29	    	     	; Code - initialize S1
 30	    	     	;
 31	    	     		CODE
 32	    	     		org	#1000
 33	    	     	;
 34	1000	6800	StrtEx	movlz	S1,R0
 35	1002	7808		movh	S1,R0
 36	    	     	;
 37	    	     	; Initialize S1
 38	    	     	;
 39	1004	77F9		movls	#FF,R1
 40	1006	C008		str	R1,R0,V0
 41	    	     	;
 42	1008	6A09		movlz	'A',R1
 43	100A	C148		str.b	R1,R0,V1
 44	    	     	;
 45	100C	6F71		movlz	#EE,R1
 46	100E	C208		str	R1,R0,V2
 47	    	     	;
 48	    	     	; Initialize S2 from S1
 49	    	     	;
 50	1010	4C02		mov	R0,R2
 51	1012	40A2		add	#8,R2	; Addr of S2
 52	    	     	;
 53	    	     	; s2.v0 <- s1.v0 + 2
 54	    	     	;
 55	1014	8001		ldr	R0,V0,R1
 56	1016	4091		add	#2,R1
 57	1018	C00A		str	R1,R2,V0
 58	    	     	;
 59	    	     	; S2.v1 <- S1.v1 + 1
 60	    	     	;
 61	101A	8141		ldr.b	R0,V1,R1
 62	101C	4089		add	#1,R1
 63	101E	C14A		str.b	R1,R2,V1
 64	    	     	;
 65	    	     	; S2.v2 <- S1.v2 - 2
 66	    	     	;
 67	1020	8201		ldr	R0,V2,R1
 68	1022	4291		sub	#2,R1
 69	1024	C20A		str	R1,R2,V2
 70	    	     	;
 71	    	     	Done
 72	    	     		end	StrtEx

Successful completion of assembly - 1P

** Symbol table **

Constants (Equates)
Name                               	Type	Value	Decimal
V2                                 	CON	0004	4	PRI
V1                                 	CON	0002	2	PRI
V0                                 	CON	0000	0	PRI

Labels (Code)
Name                               	Type	Value	Decimal
Done                               	REL	1026	4134	PRI
StrtEx                             	REL	1000	4096	PRI

Labels (Data)
Name                               	Type	Value	Decimal
S2                                 	REL	0108	264	PRI
S1                                 	REL	0100	256	PRI

Registers
Name                               	Type	Value	Decimal
R7                                 	REG	0007	7	PRI
R6                                 	REG	0006	6	PRI
R5                                 	REG	0005	5	PRI
R4                                 	REG	0004	4	PRI
R3                                 	REG	0003	3	PRI
R2                                 	REG	0002	2	PRI
R1                                 	REG	0001	1	PRI
R0                                 	REG	0000	0	PRI

.XME file: C:\git\ECED3403\ECED3403_assignment\ECED3403_assignment_A1\ECED3403_assignment_A1_code\x64\Debug\struct.xme

